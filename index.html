<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TV Channel Guide</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --primary: #6c63ff;
      --primary-dark: #574fd6;
      --accent: #ff6584;
      --free-color: #22c55e;
      --paid-color: #f59e0b;
      --bg-from: #0f0c29;
      --bg-via: #302b63;
      --bg-to: #24243e;
      --card-bg: rgba(255,255,255,0.06);
      --card-border: rgba(255,255,255,0.10);
      --text: #f1f5f9;
      --text-muted: #94a3b8;
      --row-hover: rgba(108,99,255,0.12);
      --input-bg: rgba(255,255,255,0.07);
      --radius: 14px;
      --shadow: 0 8px 32px rgba(0,0,0,0.4);
    }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, var(--bg-from) 0%, var(--bg-via) 50%, var(--bg-to) 100%);
      min-height: 100vh;
      color: var(--text);
      padding: 0 0 60px;
    }

    /* Header */
    .header {
      text-align: center;
      padding: 48px 20px 32px;
      position: relative;
    }
    .header::after {
      content: '';
      display: block;
      width: 80px;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-radius: 2px;
      margin: 16px auto 0;
    }
    .header h1 {
      font-size: clamp(1.8rem, 5vw, 2.8rem);
      font-weight: 800;
      letter-spacing: -0.5px;
      background: linear-gradient(135deg, #fff 30%, #a78bfa 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .header p {
      color: var(--text-muted);
      margin-top: 8px;
      font-size: 0.95rem;
    }

    /* Container */
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 16px;
    }

    /* Tab buttons */
    .tab-bar {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-bottom: 28px;
      flex-wrap: wrap;
    }
    .tab-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 32px;
      border: none;
      border-radius: 50px;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.25s ease;
      letter-spacing: 0.3px;
    }
    .tab-btn.free {
      background: rgba(34,197,94,0.15);
      color: #4ade80;
      border: 2px solid rgba(34,197,94,0.3);
    }
    .tab-btn.free.active, .tab-btn.free:hover {
      background: linear-gradient(135deg, #16a34a, #22c55e);
      color: #fff;
      border-color: transparent;
      box-shadow: 0 4px 20px rgba(34,197,94,0.4);
      transform: translateY(-2px);
    }
    .tab-btn.paid {
      background: rgba(245,158,11,0.15);
      color: #fbbf24;
      border: 2px solid rgba(245,158,11,0.3);
    }
    .tab-btn.paid.active, .tab-btn.paid:hover {
      background: linear-gradient(135deg, #d97706, #f59e0b);
      color: #fff;
      border-color: transparent;
      box-shadow: 0 4px 20px rgba(245,158,11,0.4);
      transform: translateY(-2px);
    }
    .tab-btn .dot {
      width: 8px; height: 8px;
      border-radius: 50%;
      background: currentColor;
    }

    /* Filter bar */
    .filter-bar {
      display: flex;
      gap: 12px;
      margin-bottom: 18px;
      flex-wrap: wrap;
      align-items: center;
    }
    .search-wrap {
      flex: 1;
      min-width: 200px;
      position: relative;
    }
    .search-wrap svg {
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-muted);
      pointer-events: none;
    }
    .search-input {
      width: 100%;
      padding: 12px 14px 12px 42px;
      background: var(--input-bg);
      border: 1.5px solid var(--card-border);
      border-radius: 50px;
      color: var(--text);
      font-size: 0.95rem;
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
      backdrop-filter: blur(6px);
    }
    .search-input::placeholder { color: var(--text-muted); }
    .search-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(108,99,255,0.2);
    }
    .lang-select {
      padding: 12px 18px;
      background: var(--input-bg);
      border: 1.5px solid var(--card-border);
      border-radius: 50px;
      color: var(--text);
      font-size: 0.95rem;
      outline: none;
      cursor: pointer;
      transition: border-color 0.2s, box-shadow 0.2s;
      backdrop-filter: blur(6px);
      min-width: 160px;
    }
    .lang-select option { background: #1e1b4b; color: var(--text); }
    .lang-select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(108,99,255,0.2);
    }

    /* Result counter */
    .result-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 14px;
      min-height: 28px;
      flex-wrap: wrap;
      gap: 8px;
    }
    .result-count {
      font-size: 0.88rem;
      color: var(--text-muted);
    }
    .result-count span {
      color: var(--text);
      font-weight: 700;
    }
    .clear-btn {
      display: none;
      align-items: center;
      gap: 6px;
      padding: 6px 16px;
      background: rgba(255,100,132,0.15);
      border: 1.5px solid rgba(255,100,132,0.3);
      border-radius: 50px;
      color: #fb7185;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .clear-btn:hover {
      background: rgba(255,100,132,0.25);
      border-color: #fb7185;
    }
    .clear-btn.show { display: flex; }

    /* Panel / fade */
    .panel {
      opacity: 0;
      transform: translateY(8px);
      transition: opacity 0.35s ease, transform 0.35s ease;
      pointer-events: none;
      position: absolute;
      width: 100%;
    }
    .panel.active {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
      position: relative;
    }
    .panels-wrapper { position: relative; }

    /* Table card */
    .table-card {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      overflow: hidden;
    }
    .table-scroll { overflow-x: auto; }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.93rem;
    }
    thead tr {
      background: rgba(108,99,255,0.15);
    }
    thead th {
      padding: 14px 18px;
      text-align: left;
      font-size: 0.78rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #a78bfa;
      white-space: nowrap;
      border-bottom: 1px solid var(--card-border);
    }
    thead th:first-child { width: 90px; }
    tbody tr {
      border-bottom: 1px solid rgba(255,255,255,0.05);
      transition: background 0.15s;
    }
    tbody tr:last-child { border-bottom: none; }
    tbody tr:hover { background: var(--row-hover); }
    tbody td {
      padding: 13px 18px;
      vertical-align: middle;
    }
    .ch-num {
      font-weight: 800;
      font-size: 1rem;
      color: #a78bfa;
      font-variant-numeric: tabular-nums;
    }
    .ch-name {
      font-weight: 500;
      color: var(--text);
    }
    .lang-badge {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 50px;
      font-size: 0.75rem;
      font-weight: 600;
      background: rgba(108,99,255,0.18);
      color: #c4b5fd;
      border: 1px solid rgba(108,99,255,0.25);
      white-space: nowrap;
    }

    /* Empty state */
    .empty-state {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 64px 20px;
      text-align: center;
      gap: 16px;
    }
    .empty-state.show { display: flex; }
    .empty-icon {
      width: 64px; height: 64px;
      border-radius: 50%;
      background: rgba(108,99,255,0.12);
      display: flex; align-items: center; justify-content: center;
      font-size: 2rem;
    }
    .empty-state h3 {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--text);
    }
    .empty-state p {
      color: var(--text-muted);
      font-size: 0.9rem;
    }
    .empty-clear-btn {
      padding: 10px 24px;
      background: rgba(108,99,255,0.2);
      border: 1.5px solid rgba(108,99,255,0.4);
      border-radius: 50px;
      color: #a78bfa;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .empty-clear-btn:hover {
      background: rgba(108,99,255,0.35);
      color: #fff;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 32px 20px 8px;
      color: var(--text-muted);
      font-size: 0.85rem;
    }
    footer span { color: #a78bfa; font-weight: 600; }

    /* Responsive */
    @media (max-width: 600px) {
      .filter-bar { gap: 8px; }
      .lang-select { min-width: 120px; width: 100%; }
      .search-wrap { min-width: 100%; }
      thead th, tbody td { padding: 11px 12px; }
      .tab-btn { padding: 10px 22px; font-size: 0.9rem; }
    }
  </style>
</head>
<body>

<div class="header">
  <h1>TV Channel Guide</h1>
  <p>Browse Free &amp; Paid channels â€” search, filter by language</p>
</div>

<div class="container">

  <!-- Tab buttons -->
  <div class="tab-bar">
    <button class="tab-btn free active" onclick="switchTab('free')">
      <span class="dot"></span> Free Channels
    </button>
    <button class="tab-btn paid" onclick="switchTab('paid')">
      <span class="dot"></span> Paid Channels
    </button>
  </div>

  <!-- Filters -->
  <div class="filter-bar">
    <div class="search-wrap">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
      </svg>
      <input class="search-input" id="searchInput" type="text" placeholder="Search by name or numberâ€¦" oninput="applyFilters()" />
    </div>
    <select class="lang-select" id="langSelect" onchange="applyFilters()">
      <option value="">All Languages</option>
    </select>
  </div>

  <!-- Result bar -->
  <div class="result-bar">
    <div class="result-count" id="resultCount">Showing <span>0</span> channels</div>
    <button class="clear-btn" id="clearBtn" onclick="clearFilters()">
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      Clear Filters
    </button>
  </div>

  <!-- Panels -->
  <div class="panels-wrapper">

    <!-- Free Panel -->
    <div class="panel active" id="panel-free">
      <div class="table-card">
        <div class="table-scroll">
          <table id="table-free">
            <thead>
              <tr>
                <th>#</th>
                <th>Channel Name</th>
                <th>Language</th>
              </tr>
            </thead>
            <tbody id="tbody-free"></tbody>
          </table>
        </div>
        <div class="empty-state" id="empty-free">
          <div class="empty-icon">ðŸ“º</div>
          <h3>No channels found</h3>
          <p>Try a different search term or language filter.</p>
          <button class="empty-clear-btn" onclick="clearFilters()">Clear Filters</button>
        </div>
      </div>
    </div>

    <!-- Paid Panel -->
    <div class="panel" id="panel-paid">
      <div class="table-card">
        <div class="table-scroll">
          <table id="table-paid">
            <thead>
              <tr>
                <th>#</th>
                <th>Channel Name</th>
                <th>Language</th>
              </tr>
            </thead>
            <tbody id="tbody-paid"></tbody>
          </table>
        </div>
        <div class="empty-state" id="empty-paid">
          <div class="empty-icon">ðŸ“º</div>
          <h3>No channels found</h3>
          <p>Try a different search term or language filter.</p>
          <button class="empty-clear-btn" onclick="clearFilters()">Clear Filters</button>
        </div>
      </div>
    </div>

  </div>
</div>

<footer>
  &copy; 2026 <span>TV Channel Guide</span>
</footer>

<script>
  let allChannels = [];
  let activeTab = 'free';

  async function loadData() {
    const res = await fetch('channels.json');
    allChannels = await res.json();
    buildLanguageOptions();
    applyFilters();
  }

  function buildLanguageOptions() {
    const select = document.getElementById('langSelect');
    // Build unique languages per tab â€” we rebuild on tab switch
    rebuildLangOptions();
  }

  function rebuildLangOptions() {
    const select = document.getElementById('langSelect');
    const current = select.value;
    const langs = [...new Set(
      allChannels
        .filter(c => c.type === capitalize(activeTab))
        .map(c => c.language)
    )].sort();
    // clear except first
    while (select.options.length > 1) select.remove(1);
    langs.forEach(l => {
      const o = document.createElement('option');
      o.value = l;
      o.textContent = l;
      select.appendChild(o);
    });
    // restore if still valid
    if (langs.includes(current)) select.value = current;
    else select.value = '';
  }

  function capitalize(s) { return s.charAt(0).toUpperCase() + s.slice(1); }

  function switchTab(tab) {
    if (activeTab === tab) return;

    // hide old
    document.getElementById('panel-' + activeTab).classList.remove('active');
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));

    activeTab = tab;

    // show new
    document.getElementById('panel-' + tab).classList.add('active');
    document.querySelector('.tab-btn.' + tab).classList.add('active');

    // reset search & lang
    document.getElementById('searchInput').value = '';
    rebuildLangOptions();
    applyFilters();
  }

  function applyFilters() {
    const query = document.getElementById('searchInput').value.trim().toLowerCase();
    const lang = document.getElementById('langSelect').value;
    const type = capitalize(activeTab);

    const filtered = allChannels.filter(c => {
      if (c.type !== type) return false;
      if (lang && c.language !== lang) return false;
      if (query) {
        const numStr = String(c.number);
        if (!c.name.toLowerCase().includes(query) && !numStr.includes(query)) return false;
      }
      return true;
    });

    renderTable(activeTab, filtered);
    updateResultBar(filtered.length, query || lang);
  }

  function renderTable(tab, rows) {
    const tbody = document.getElementById('tbody-' + tab);
    const empty = document.getElementById('empty-' + tab);
    const tbl = document.getElementById('table-' + tab);

    if (rows.length === 0) {
      tbody.innerHTML = '';
      tbl.style.display = 'none';
      empty.classList.add('show');
    } else {
      tbl.style.display = '';
      empty.classList.remove('show');
      tbody.innerHTML = rows.map(c => `
        <tr>
          <td><span class="ch-num">${c.number}</span></td>
          <td><span class="ch-name">${escHtml(c.name)}</span></td>
          <td><span class="lang-badge">${escHtml(c.language)}</span></td>
        </tr>
      `).join('');
    }
  }

  function updateResultBar(count, hasFilters) {
    const el = document.getElementById('resultCount');
    el.innerHTML = `Showing <span>${count}</span> channel${count !== 1 ? 's' : ''}`;
    const clearBtn = document.getElementById('clearBtn');
    if (hasFilters) clearBtn.classList.add('show');
    else clearBtn.classList.remove('show');
  }

  function clearFilters() {
    document.getElementById('searchInput').value = '';
    document.getElementById('langSelect').value = '';
    applyFilters();
  }

  function escHtml(s) {
    return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
  }

  loadData();
</script>
</body>
</html>
